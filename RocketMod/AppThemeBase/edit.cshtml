@inherits RocketMod.RocketModTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;
@using RocketSettings;
@using RocketMod;

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/Images/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocketModules/RocketMod/App_LocalResources/")
@AddProcessData("resourcepath", "[Token:appthemeresx]")


@{
    var info = new SimplisityInfo();
    var articleData = (ArticleData)Model.List.First();
    var headerData = Model.HeaderData;
    if (articleData.Info != null)
    {
        info = articleData.Info;
    }
    var animate = "w3-animate-right";
    if (Model.GetSettingBool("stopanimate"))
    {
        animate = "";
    }
}

<div class=''>

    <div class="w3-row w3-padding ">
        <div class="w3-col m2 w3-button w3-green langchangesave simplisity_click" s-cmd="rocketmodedit_savearticle" s-fields='{"selecteditemid":"@info.ItemID"}' s-post="#datasection" s-list="@Model.GetSetting("s-list-csv")">@ButtonText(ButtonTypes.save)</div>
        @ButtonGap()
        <div class="w3-col m2 w3-button w3-red simplisity_confirmclick" s-confirm="@ResourceKey("DNNrocket.delete","","confirm")" s-cmd="rocketmodedit_deletearticle" s-fields='{"selecteditemid":"@info.ItemID"}'>@ButtonText(ButtonTypes.delete)</div>
        @ButtonGap()
        @if (Model.GetSettingInt("datatype") == 2)
        {
            <div class="w3-col m2 w3-button w3-khaki simplisity_click" s-cmd="rocketmodedit_editarticlelist" >@ButtonText(ButtonTypes.back)</div>
        }

        @if (Model.GetSettingBool("saved"))
        {
            <i class='fas fa-save w3-right simplisity_fadeout' style="font-size:24px"></i>
        }
    </div>


    <div id="datasection" class="">
        <!-- The Detail-->
        <div id="detailDisplay" class="w3-container">
            [Token:AppThemeFields]
            @RenderRocketModFields(Model, info.PortalId, info.ModuleId, info, 1)
        </div>
    </div>
    <div>
        <i>ID: </i> @info.ItemID
    </div>
</div>

<script>
    $(document).ready(function () {

    });

    function languageChange() {
        $('.langchangesave').trigger("click");
    }

</script>


