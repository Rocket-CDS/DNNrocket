@inherits RocketMod.RocketModTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using System
@using System.Linq
@using System.Xml
@using Simplisity;
@using DNNrocketAPI.Componants;
@using RocketMod;

@AddMetaData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddMetaData("resourcepath", "/DesktopModules/DNNrocket/RocketMod/App_LocalResources/")

@{
    var moduleData = (ModuleData)Model.List.First();
}

<span class="w3-section simplisity_buttons" id="buttonsrequired" style="display:none;">
</span>


<div id="" class="simplisity_panel">


    @if (!moduleData.configData.Exists)
    {
    <h1>@moduleData.configData.ConfigInfo.GetXmlProperty("genxml/select/apptheme")</h1>

    <h1>Config ItemID: @moduleData.configData.ConfigInfo.ItemID</h1>

    }
    else
    {

    <div id="configdata_@(moduleData.configData.ConfigInfo.ModuleId)" class="w3-modal">

        <div class="w3-modal-content w3-animate-top w3-card-4">
            <header class="w3-container w3-theme-d3">
                <h2>@ResourceKey("RocketMod.selectapptheme")</h2>
            </header>
            <div class="w3-container">

                <div class="w3-row">
                    <div class="w3-half w3-padding">
                        <div class="">
                            <label>@ResourceKey("Config.apptheme")</label>
                            @FolderSelectList(moduleData.configData.ConfigInfo, "genxml/select/apptheme", Model.GetSetting("mappathAppThemeFolder") + "\\Themes", " class='w3-input w3-border'", false)
                        </div>
                    </div>
                </div>

                <div class="w3-button w3-green w3-padding-8 simplisity_click w3-margin" s-post="#configdata_@(moduleData.configData.ConfigInfo.ModuleId)" s-before="hideconfigpopup" s-cmd="rocketmod_saveconfig" s-fields="tabid:@(Model.GetSetting("tabid")),moduleid:@(moduleData.configData.ConfigInfo.ModuleId),interfacekey:rocketmod">@ResourceKey("DNNrocket.cmdSaveButton")</div>

                <div class="w3-button w3-red w3-padding-8 w3-margin" onclick="returnclick();">@ResourceKey("DNNrocket.cmdCancelButton")</div>

            </div>
        </div>

    </div>
    }

</div>

<script>

    $(document).ready(function () {

        $('#configdata_@(moduleData.configData.ConfigInfo.ModuleId)').show();

    });

    function hideconfigpopup() {
        $('#configdata_@(moduleData.configData.ConfigInfo.ModuleId)').hide();
    }

</script>