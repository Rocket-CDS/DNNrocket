@inherits RocketMod.RocketModTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;
@using RocketSettings;

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/SystemData/App_LocalResources/")

@{
    var settingsData = new SettingsData(0, 0, "");
    if (Model.List.Count > 0)
    {
        settingsData = (SettingsData)Model.List.First();
    }

}

<span class="w3-section simplisity_buttons">
    <a class="w3-button w3-pale-yellow w3-padding-8" onclick="location.reload();">@ResourceKey("DNNrocket.cmdCancelButton")</a>
    <a class="w3-button w3-teal w3-padding-8 simplisity_click" s-cmd="rocketsettings_add" s-fields="tabid:@(Model.GetSetting("tabid")),moduleid:@(Model.GetSetting("moduleid")),selecteditemid:@settingsData.Info.ItemID,interfacekey:fieldeditor">@ResourceKey("DNNrocket.cmdAddButton")</a>
    <button class="w3-button w3-green w3-padding-8 simplisity_click  simplisity_langchange" s-cmd="rocketsettings_save" s-fields="tabid:@(Model.GetSetting("tabid")),moduleid:@(Model.GetSetting("moduleid")),selecteditemid:@settingsData.Info.ItemID,interfacekey:fieldeditor" s-post="#datasection" s-list=".settingsdata">@ResourceKey("DNNrocket.cmdSaveButton")</button>
    <a class="w3-button w3-pale-yellow w3-padding-8 simplisity_itemundo" s-recylebin="settingsbin" s-return="#pluginsettings" s-removelist=".settingsdata" style="display: none;">@ResourceKey("DNNrocket.cmdUndoButton")</a>
</span>

<div id="datasection" class="w3-container">

    <ul id="pluginsettings" class="w3-ul">

        @{
            var lp3 = 0;
        }
        @foreach (var i in settingsData.List)
        {
            lp3 += 1;


            <li class="settingsdata w3-card w3-margin w3-display-container">
                <div class="w3-container">
                    <div class="w3-col m2 w3-padding">
                        <label class="">@ResourceKey("system.name")</label>
                        @TextBox(i, "genxml/textbox/name", "class='w3-input w3-border' maxlength='250' autocomplete='off' ", "", false, lp3)
                    </div>
                    <div class="w3-col m2 w3-padding">
                        <label class="">@ResourceKey("DNNrocket.label")</label>&nbsp;@EditFlag()
                        @TextBox(i, "genxml/lang/genxml/textbox/label", "class='w3-input w3-border' maxlength='500' autocomplete='off' ", "", true, lp3)
                    </div>
                    <div class="w3-col m2 w3-padding">
                        <label class="">@ResourceKey("DNNrocket.type")</label>
                        @DropDownList(i, "genxml/select/type", "TextBox,CheckBox,DropDown,RadioList,Image,InternalLink,ExternalLink,Document", "TextBox,CheckBox,DropDown,RadioList,Image,InternalLink,ExternalLink,Document", " class='w3-input w3-border' ")
                    </div>
                    <div class="w3-col m1 w3-padding">
                        <label class="">@ResourceKey("DNNrocket.size")</label>
                        @TextBox(i, "genxml/textbox/size", "class='w3-input w3-border' maxlength='2' autocomplete='off' ", "2", false, lp3)
                    </div>
                    <div class="w3-col m2 w3-padding">
                        <br />
                        <label class="">@ResourceKey("DNNrocket.localized")</label>
                        @CheckBox(i, "genxml/checkbox/localized", "", " class='localize' row='" + lp3 + "' ", false, false, lp3)
                    </div>
                    <div class="w3-right">
                        <a href="javascript:void(0)" class="simplisity_removelistitem" s-removelist=".settingsdata" s-recylebin="settingsbin"><i title="Remove" class="fas fa-minus-square fa-fw fa-lg"></i></a>
                    </div>
                </div>
            </li>

        }

    </ul>

</div>

    <script>
        $(document).ready(function () {
            $(':checkbox').addClass('w3-check');

            $("#pluginsettings").sortable();
            $("#pluginsettings").disableSelection();

        });


    </script>


