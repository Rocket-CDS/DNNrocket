@inherits RocketTools.RocketToolsTokens<Simplisity.SimplisityRazor>
@using System
@using System.Linq
@using System.Xml
@using Simplisity;

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/RocketTools/App_LocalResources/")

@{
    var info = (SimplisityInfo)Model.List.First();
}

<div class="w3-display-container">

    <div class="">
        <ul id="modulelistdata" class="w3-ul">

            @{
                foreach (var m in info.GetRecordList("clonemodulelist"))
                {
                    <li>
                        <div class="w3-row">
                        <div class="w3-half">
                            <input id='moduleid@(m.GetXmlProperty("genxml/moduleid"))' class="modulecheckbox w3-check" moduleid='@m.GetXmlProperty("genxml/moduleid")' s-xpath="genxml/checkbox/moduleid@(m.GetXmlProperty("genxml/moduleid"))" s-update="save" type="checkbox">
                            <b>
                                @m.GetXmlProperty("genxml/modulename")
                            </b>
                        </div>
                        <div class="w3-half">
                            <div class="w3-tiny">
                                <div>
                                    @m.GetXmlProperty("genxml/modulepanename")
                                </div>
                                <div>
                                    @m.GetXmlProperty("genxml/projectname")
                                </div>
                                <div>
                                    @m.GetXmlProperty("genxml/appthemeadminfolder")
                                </div>
                                <div>
                                    @m.GetXmlProperty("genxml/appthemeadminversion")
                                </div>
                            </div>
                        </div>
                        </div>
                    </li>
                }
            }
        </ul>
    </div>

</div>

<script>

    $(document).ready(function () {

        $('.nextbuttonpage').hide();

        $("#modulecheckAll").unbind("click");
        $("#modulecheckAll").click(function () {
            $('.modulecheckbox').prop('checked', true);
            if ($('.rolesdatasection').text() === '') {
                $('.nextbuttonmodule').show();
            }
        });
        $("#moduleuncheckAll").unbind("click");
        $("#moduleuncheckAll").click(function () {
            $('.modulecheckbox').prop('checked', false);
            if ($('.rolesdatasection').text() === '') {
                $('.nextbuttonmodule').show();
            }
        });

        $(".modulecheckbox").unbind("click");
        $(".modulecheckbox").click(function () {
            if ($('.rolesdatasection').text() === '') {
                $('.nextbuttonmodule').show();
            }
        });

    });



</script>

