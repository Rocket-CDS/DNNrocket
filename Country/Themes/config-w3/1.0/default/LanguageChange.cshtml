@inherits DNNrocketAPI.render.DNNrocketTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;
@using DNNrocketAPI.Components;


@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")

    <div class="w3-row">
        <div class="w3-col m6">
            <div class="w3-dropdown-click">
                <button onclick="LanguageClickSelect()" class="w3-button w3-left-align languageFlag"  style="width:270px;"><img class='languageFlagImg' src='/DesktopModules/DNNrocket/API/images/flags/16/@(DNNrocketUtils.GetEditCulture()).png' alt='@(DNNrocketUtils.GetEditCulture())' /><span class="w3-small languageFlagText">&nbsp;@DNNrocketUtils.GetCultureCodeName(DNNrocketUtils.GetEditCulture())</span></button>
                <div class="LanguageClickShow w3-dropdown-content w3-bar-block w3-border w3-theme-l5">
                    @{
                        var enabledlanguages = DNNrocketUtils.GetCultureCodeList();
                        foreach (var l in enabledlanguages)
                        {
                            <div class="w3-bar-item w3-button selectlang w3-border-bottom " lang="@l" style="width:270px;" s-cmd="settingcountry_changeculture" s-reload="true" s-fields='{"culturecode":"@(l)"}'  ><img class='' src='/DesktopModules/DNNrocket/API/images/flags/16/@(l).png' alt='@(l)' /><span class="w3-small">&nbsp;@DNNrocketUtils.GetCultureCodeName(l)</span></div>
                        }
                    }
                </div>
            </div>
        </div>
    </div>


<script>
    $(document).ready(function () {

        $('.selectlang').unbind('click');
        $('.selectlang').click(function () {
            LanguageClickSelect(); // close list
            simplisity_callserver(this);
        });

    });

    function LanguageClickSelect() {
        if (!$(".LanguageClickShow").hasClass("w3-show")) {
            $(".LanguageClickShow").addClass("w3-show");
        } else {
            $(".LanguageClickShow").removeClass("w3-show");
        }
    }
</script>

