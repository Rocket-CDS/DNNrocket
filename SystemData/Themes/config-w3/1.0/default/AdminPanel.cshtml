@inherits DNNrocketAPI.render.DNNrocketTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;
@using DNNrocketAPI.Componants;
@using RocketLicense.Componants;
@using DNNrocket.System;


@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/SystemData/App_LocalResources/")


@{
    var systemDataList = new SystemDataList();
    var list = systemDataList.GetSystemList();
}

<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
<link rel="stylesheet" href="/DesktopModules/DNNrocket/css/w3.css">
<link rel="stylesheet" href="/DesktopModules/DNNrocket/fa/css/all.min.css">
<script src="/DesktopModules/DNNrocket/js/jquery-3.3.1.min.js"></script>
<script src="/DesktopModules/DNNrocket/js/jquery-ui.min.js"></script>
<!-- +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->


<div class="w3-row">
        <h2>@ResourceKey("system.systems")</h2>
</div>

<div id="datasection" class="w3-row w3-margin-top">

    <div id="datalist2" class="w3-container ">

        @foreach (SimplisityInfo nbi in list)
        {
            var adminurl = nbi.GetXmlProperty("genxml/textbox/adminurl");
            if (adminurl != "" && !adminurl.Contains("[")) // check for admin link without parameters (for modules)
            {
                var systemData = new SystemData(nbi.GetXmlProperty("genxml/textbox/ctrlkey"));

                <a href="@systemData.AdminUrl" class="" target="_blank" style="text-decoration:none">
                    <div class="w3-padding w3-col m2 w3-center w3-border w3-margin w3-hover-opacity" style="cursor:pointer;background-color:@(systemData.Info.GetXmlProperty("genxml/textbox/colorhex"));">
                        <div style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;height:24px;" class="w3-margin-bottom">
                            <b class=" w3-white w3-text-black w3-padding " title="@systemData.SystemName">@systemData.SystemName</b>
                        </div>
                        <img src="@ThumbnailImageUrl(systemData.Logo,140,140)" style="width:60%;" class="w3-circle w3-hover-opacity" />
                    </div>
                </a>

            }
        }
    </div>

</div>

<hr />


<script>
    $(document).ready(function () {


    });

</script>
