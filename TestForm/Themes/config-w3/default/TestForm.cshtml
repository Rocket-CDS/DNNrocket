@inherits DNNrocketAPI.render.DNNrocketTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using Simplisity;

@AddMetaData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddMetaData("resourcepath", "/DesktopModules/DNNrocket/TestForm/App_LocalResources/")

@{
    var info = (SimplisityInfo)Model.List.First();
}


<span class="w3-section simplisity_buttons">
    <button class="w3-button w3-green w3-padding-8 simplisity_click" s-cmd="testform_save" s-post="#testform" s-postitem=".testlist,.testlist2" s-fields="theme:config-w3,template:TestForm.cshtml,systemprovider:businessdirectory,interfacekey:testform">@ResourceKey("DNNrocket.cmdSaveButton")</button>
</span>


<div class="w3-container">

    <div class="w3-container">
        <div class="w3-row">
            <a href="javascript:void(0)" onclick="openSection(event, 'testform');">
                <div class="w3-col tablink w3-bottombar w3-hover-light-blue w3-padding w3-border-black w3-theme " style="width:20%"><i class="fa fa-home"></i>&nbsp;@ResourceKey("testform.testform")</div>
            </a>
            <a href="javascript:void(0)" onclick="openSection(event, 'testformlist');">
                <div class="w3-col tablink w3-bottombar w3-hover-light-blue w3-padding " style="width:20%"><i class="fa fa-home"></i>&nbsp;@ResourceKey("testform.testformlist")</div>
            </a>
            <a href="javascript:void(0)" onclick="openSection(event, 'testformlist2');">
                <div class="w3-col tablink w3-bottombar w3-hover-light-blue w3-padding " style="width:20%"><i class="fa fa-home"></i>&nbsp;@ResourceKey("testform.testformlist") 2</div>
            </a>
        </div>

        <div id="testform" class="w3-container w3-margin tabsection" style="display:block;">

            <h2>@ResourceKey("testform.testform")</h2>

            <div class="w3-row wrapperheight">
                <div class="w3-half w3-padding">
                    <div>
                        <label>Save</label>
                        <input value="First !\Â£,$%^&*()" id="txtinput" class="w3-input w3-border" maxlength="50" type="text" s-update="save" s-xpath="genxml/textbox/txtinput">
                    </div>
                    <div>
                        @EditFlag()&nbsp;<label>Lang </label>
                        <input value="@info.GetXmlProperty("genxml/lang/genxml/textbox/txtinputl")" id="txtinputl" class="w3-input w3-border" maxlength="50" type="text" s-update="lang" s-xpath="genxml/textbox/txtinputl">
                    </div>

                    <div>
                        <label>Save</label>
                        @TextBox(info, "genxml/textbox/passtxt", "class='w3-input w3-border' maxlength='50' type='password' ", "passwordtest")
                    </div>
                    <div>
                        @EditFlag()&nbsp;<label>Lang </label>
                        @TextBox(info, "genxml/lang/genxml/textbox/passtxtl", "class='w3-input w3-border' maxlength='50' type='password'", "passwordtest")
                    </div>

                    <div>
                        <label>Save</label>
                        @TextBox(info, "genxml/textbox/doubletxt", "class='w3-input w3-border' maxlength='50' s-datatype='double'", "99")
                    </div>
                    <div>
                        @EditFlag()&nbsp;<label>Lang </label>
                        @TextBox(info, "genxml/lang/genxml/textbox/doubletxtl", "class='w3-input w3-border' maxlength='50' s-datatype='double'", "99.99")
                    </div>

                    <div>
                        <label>Save</label>
                        @TextBox(info, "genxml/textbox/datetxt", "class='w3-input w3-border' maxlength='50' s-datatype='date'", "")
                    </div>
                    <div>
                        @EditFlag()&nbsp;<label>Lang</label>
                        @TextBox(info, "genxml/lang/genxml/textbox/datetxtl", "class='w3-input w3-border' maxlength='50' s-datatype='date'", "")
                    </div>
                </div>
                <div class="w3-half  w3-padding">
                    <div>
                        @EditFlag()&nbsp;<label>Lang </label>
                        @TextBox(info, "genxml/lang/genxml/textbox/testingtxt3", " s-update='lang' class='w3-input w3-border' maxlength='50'", "First !\"£$%^&*()")
                    </div>
                    <div>
                        <label>Save</label>
                        @DropDownList(info, "genxml/dropdownlist/testddl", "1,2,3", "a,b,c", "class='w3-input w3-border'")
                    </div>
                    <div>
                        @EditFlag()&nbsp;<label>Lang </label>
                        <select id="testddl" s-xpath="genxml/dropdownlist/testddl" s-update="save" class="w3-input w3-border">
                            <option value="1">X</option>
                            <option value="2">Y</option>
                            <option value="3">Z</option>
                        </select>
                        @DropDownList(info, "genxml/lang/genxml/dropdownlist/testddl", "1,2,3", "a,b,c", "class='w3-input w3-border'")
                    </div>
                    <div>
                        <label>Save</label>
                        @RadioButtonList(info, "genxml/radiobuttonlist/testrbl", "1,2,3", "a,b,c", "class='w3-padding w3-border'")
                    </div>
                    <div>
                        <label>Save</label>
                        @TextArea(info, "genxml/textbox/testingta", "class='w3-input w3-border'", "Line 1 Line 2?")
                    </div>
                    <div>
                        @CheckBox(info, "genxml/checkbox/testingcb", "testcb", "class='w3-check'")
                    </div>
                    <div>
                        <label>Save</label>
                        @CheckBoxList(info, "genxml/checkboxlist/testcbl", "1,2,3", "a,b,c", "class='w3-border w3-padding'")
                    </div>
                </div>


            </div>
        </div>

        <div id="testformlist" class="w3-container w3-margin tabsection" style="display: none;">
            <h1>@ResourceKey("testform.testformlist")</h1>
            <div class="w3-row w3-card wrapperheight testlist">
                <div class="w3-threequarter">
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt", "class='w3-input w3-border'", "row1", false, 1)
                    </div>
                    <div>
                        @TextBox(info, "genxml/lang/genxml/textbox/testingtxtlang", "class='w3-input w3-border'", "row1", false, 1)
                    </div>
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxtlang2", "update='lang' class='w3-input w3-border'", "row1 lang", true, 1)
                    </div>
                </div>
            </div>
            <div class="w3-row w3-card wrapperheight testlist">
                <div class="w3-threequarter">
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt", "class='w3-input w3-border'", "Second 1 row2", false, 2)
                    </div>
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt3", "class='w3-input w3-border'", "Second 2 row2", false, 2)
                    </div>
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt4", "class='w3-input w3-border'", "Second 3 row2", false, 2)
                    </div>
                    <div>
                        @TextBox(info, "genxml/lang/genxml/textbox/testingtxtlang", "class='w3-input w3-border'", "row2 lang", true, 1)
                    </div>
                </div>
            </div>

        </div>

        <div id="testformlist2" class="w3-container w3-margin tabsection" style="display: none;">
            <h1>@ResourceKey("testform.testformlist") 2</h1>
            <div class="w3-row w3-card wrapperheight testlist2">
                <div class="w3-threequarter">
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt", "class='w3-input w3-border'", "row1", false, 1)
                    </div>
                    <div>
                        @TextBox(info, "genxml/lang/genxml/textbox/testingtxtlang", "class='w3-input w3-border'", "row1", false, 1)
                    </div>
                    <div>
                        @TextBox(info, "genxml/lang/genxml/textbox/testingtxtlang2", "update='lang' class='w3-input w3-border'", "row1 lang", false, 1)
                    </div>
                </div>
            </div>
            <div class="w3-row w3-card wrapperheight testlist2">
                <div class="w3-threequarter">
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt", "class='w3-input w3-border'", "Second 1 row2", false, 2)
                    </div>
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt3", "class='w3-input w3-border'", "Second 2 row2", false, 2)
                    </div>
                    <div>
                        @TextBox(info, "genxml/textbox/testingtxt4", "class='w3-input w3-border'", "Second 3 row2", false, 2)
                    </div>
                    <div>
                        @TextBox(info, "genxml/lang/genxml/textbox/testingtxtlang", "class='w3-input w3-border'", "row2 lang", false, 1)
                    </div>
                </div>
            </div>

        </div>


    </div>

</div>


<script type="text/javascript">

    $(document).ready(function () {
        // we can't place class on each input with Razor Tokens so use JQuery to add at runtime.
        $(':checkbox').attr('class', 'w3-check');
        $(':radio').attr('class', 'w3-radio');

    });


    function openSection(evt, sectionName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("tabsection");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" w3-border-black", "");
            tablinks[i].className = tablinks[i].className.replace(" w3-theme", "");
        }
        document.getElementById(sectionName).style.display = "block";
        evt.currentTarget.firstElementChild.className += " w3-border-black";
        evt.currentTarget.firstElementChild.className += " w3-theme";
    }

</script>
