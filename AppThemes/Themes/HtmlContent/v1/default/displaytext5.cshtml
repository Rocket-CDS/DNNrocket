@inherits RocketMod.RocketModTokens<Simplisity.SimplisityRazor>
@using DNNrocketAPI;
@using System
@using System.Linq
@using System.Xml
@using Simplisity;
@using DNNrocketAPI.Componants;


@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/RocketMod/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/AppThemes/Themes/HtmlContent/resx/")

@{
    var imagecount = 0;
    var w3class = "";
}

@for (var lp1 = 1; lp1 <= 4; lp1++)
{
    if (Model.Datainfo.GetXmlProperty("genxml/hidden/imagepath" + lp1) != "")
    {
        imagecount += 1;
    }
}
@if (imagecount == 2)
{
    w3class = "w3-half";
}
@if (imagecount == 3)
{
    w3class = "w3-third";
}
@if (imagecount == 4)
{
    w3class = "w3-quarter";
}

<div class="w3-row w3-padding">
    @HtmlOf(Model.Datainfo.GetXmlProperty("genxml/lang/genxml/textbox/richtext"))
</div>

<div class="w3-row">
    @for (var lp1 = 1; lp1 <= 4; lp1++)
    {
        var imagewidth = Model.Datainfo.GetXmlPropertyInt("genxml/textbox/widthimagepath" + lp1);
        var imageheight = Model.Datainfo.GetXmlPropertyInt("genxml/textbox/heightimagepath" + lp1);
        var imagealt = Model.Datainfo.GetXmlPropertyInt("genxml/textbox/altimagepath" + lp1);
        var imagepath = Model.Datainfo.GetXmlProperty("genxml/hidden/imagepath" + lp1);
        if (imagepath != "")
        {
            <div class="@w3class">
                <img src="/DesktopModules/NBright/NBrightData/NBrightThumb.ashx?src=@imagepath&w=@imagewidth&h=@imageheight" alt="@imagealt" />
            </div>
        }
    }
</div>

