<div>
@{
	var c[fieldname] = 1;
}
@foreach (var i in info.GetList("documentlist[fieldname]")) 
{

            XmlNode docdescnod = x.XMLDoc.SelectSingleNode("genxml/lang/genxml/docs/genxml[" + c[fieldname] + "]/textbox/docdesc");

            var nbi = new NBrightInfo();
            nbi.XMLData = i.OuterXml;
            var displayname = "";
            if (docdescnod != null)
            {
                displayname = docdescnod.InnerText;
            }
            if (displayname == "")
            {
                displayname = nbi.GetXmlProperty("genxml/hidden/filename");
            }

            <div><a href='/DesktopModules/NBright/NBrightMod/XmlConnector.ashx?cmd=downloadfile&fileindex=@(c[fieldname])&itemid=@(x.ItemID)&&downloadname=@(nbi.GetXmlProperty("genxml/hidden/filename").Replace(" ","_"))'>@(displayname)</a></div>

            c[fieldname] += 1;
}
</div>