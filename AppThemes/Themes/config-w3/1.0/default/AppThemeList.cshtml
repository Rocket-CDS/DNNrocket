@inherits DNNrocketAPI.render.DNNrocketTokens<Simplisity.SimplisityRazor>
@using Simplisity;
@using DNNrocketAPI.Components;
@using Rocket.AppThemes.Components;

@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/api/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/SystemData/App_LocalResources/")
@AddProcessData("resourcepath", "/DesktopModules/DNNrocket/AppThemes/App_LocalResources/")

@{

    var appThemeList = (AppThemeDataList)Model.List.First();

}

@RenderTemplate("Popups.cshtml", "\\DesktopModules\\DNNrocket\\AppThemes", "config-w3", Model, "1.0", true)


    <div class="w3-row w3-padding">
        <div class="w3-col m2 w3-button rocket-buttonbar w3-teal" onclick="$('#portaldetail').show();">@ButtonText(ButtonTypes.add)</div>
        <div class="w3-button w3-blue w3-padding-8 simplisity_click" title="Clear All Cache" s-cmd="rocketapptheme_clearcache" s-post="" s-reload="true"><i class="fas fa-sync"></i></div>
    </div>

    <div class="w3-bar w3-card searchdata w3-padding">
        <div class="w3-bar-item w3-col m4 " style='width: 360px'>
            <input class="w3-input w3-border w3-light-grey w3-padding" autocomplete="off" type="text" placeholder="@ResourceKey("Appthemes.searchapptheme")..." id="searchtext" onkeyup="searchFunction()">
        </div>
    </div>


    <div id="datalist" class="w3-row w3-margin-top">

        <table class="w3-table-all">
            <thead>
                <tr class="w3-theme-l2">
                    <th style="width:64px;"></th>
                    <th>SystemKey</th>
                    <th>AppTheme</th>
                    <th>Folder</th>
                    <th style="width:120px;"></th>
                </tr>
            </thead>
            @foreach (AppThemeLimpet appTheme in appThemeList.List)
            {
        <tr class="searchdiv">
            <td>
                <div class=" w3-hover-text-theme w3-text-grey w3-center simplisity_click" s-cmd="rocketapptheme_getdetail" s-fields='{"appthemesystemkey":"@appTheme.SystemKey","appthemefolder":"@appTheme.AppThemeFolder"}' s-return=".articlepopup" style="cursor: pointer;width: 82px;">
                    <i class="fas fa-edit"></i>
                </div>
            </td>
            <td><b>@appTheme.SystemKey</b></td>
            <td>@appTheme.AppThemeName</td>
            <td>@appTheme.AppThemeFolder</td>
            <td>@appTheme.AppVersionFolder</td>
        </tr>
            }
        </table>

    </div>

<script>
    $(document).ready(function () {

        $('.actionentrykey').focus();

    });

    function searchFunction() {
        var input, filter, ul, li, a, i;
        input = document.getElementById("searchtext");
        filter = input.value.toUpperCase();
        ul = document.getElementById("datalist2");
        li = $('.searchdiv');
        for (i = 0; i < li.length; i++) {
            txtValue = li[i].textContent || li[i].innerText;
            if (txtValue.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }

</script>


